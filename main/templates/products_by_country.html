{% extends "base.html" %}
{% load static %}
{% block content %}

<h2 class="text-center mb-4">Products by Country</h2>

{% for country, products in grouped_products.items %}
  <h3 class="mt-4">{{ country }}</h3>

  <div style="display:flex; flex-wrap:wrap; gap:20px;">
    {% for product in products %}
      <div style="width:200px; border:1px solid #ddd; padding:10px; border-radius:10px;">
        
        {% if product.image %}
          <img src="{{ product.image.url }}" 
               style="width:100%; height:150px; object-fit:cover; border-radius:8px;" onerror="this.src='{% static 'img/product-placeholder.svg' %}'">
        {% else %}
          <img src="{% static 'img/product-placeholder.svg' %}" style="width:100%; height:150px; object-fit:cover; border-radius:8px;" alt="No image">
        {% endif %}

        <h5>{{ product.name }}</h5>
        <p>{{ product.category }}</p>
        <p><strong>{{ product.skin_type }}</strong></p>

      </div>
    {% endfor %}
  </div>
{% endfor %}

{% endblock %}
